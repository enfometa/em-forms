!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports["@enfometa/emforms"]=e(require("react")):r["@enfometa/emforms"]=e(r.react)}(self,(function(r){return function(){"use strict";var e={156:function(e){e.exports=r}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,n),u.exports}n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,{a:e}),e},n.d=function(r,e){for(var t in e)n.o(e,t)&&!n.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var o={};return function(){n.r(o),n.d(o,{EmForm:function(){return m},EmFormError:function(){return p},EmFormErrorMessage:function(){return g},EmFormGroup:function(){return v},EmFormsCore:function(){return A},FormGroupContext:function(){return b},compare:function(){return I},email:function(){return C},isNullOrUndefined:function(){return F},isObject:function(){return O},maxLength:function(){return T},mergeDeep:function(){return j},minLength:function(){return M},pattern:function(){return N},required:function(){return x},requiredIf:function(){return G},useEmForms:function(){return i}});var r=n(156),e=n.n(r);function t(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function u(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var i=function(e){var n,o,i=(n=(0,r.useState)(e),o=2,function(r){if(Array.isArray(r))return r}(n)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,u=[],a=!0,i=!1;try{for(t=t.call(r);!(a=(n=t.next()).done)&&(u.push(n.value),!e||u.length!==e);a=!0);}catch(r){i=!0,o=r}finally{try{a||null==t.return||t.return()}finally{if(i)throw o}}return u}}(n,o)||function(r,e){if(r){if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],f=i[1],c=(0,r.useRef)();return(0,r.useState)((function(){c.current=new A({forms:l.forms,handleStateUpdate:function(){f(function(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t(Object(n),!0).forEach((function(e){u(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}({},l)),null==!c.current&&c.current.setFormsObj(l)},config:l.config})}),[]),c.current},l=["children","emForms","formName","validator","bindValue","valuePropName","onChangePropName","valueFunc"];function f(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function c(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var m=function(t){var n,o,u=t.children,a=t.emForms,i=t.formName,m=(t.validator,t.bindValue),s=void 0===m||m,v=t.valuePropName,d=void 0===v?"value":v,p=t.onChangePropName,g=void 0===p?"onChange":p,y=t.valueFunc,h=void 0===y?function(r){return r}:y,O=(function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}}(t,l),function(r){if(Array.isArray(r))return r}(o=Array.isArray(u)?u:[u])||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(o)||function(r,e){if(r){if("string"==typeof r)return c(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(r,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),j=O[0],S=O.slice(1),w=(0,r.useContext)(b),P=null;F(a)?F(w)||(P=w.emForms):P=a;var E=(f(n={},g,(function(r){return function(r){F(P)||(P.setFormValue(i,h(r)),P.config.errorMessageTriggers.change&&P.setFormTouch(i,!0)),F(j.props.onChange)||j.props.onChange(r)}(r)})),f(n,"onBlur",(function(r){return function(r){F(P)||P.config.errorMessageTriggers.touch&&P.setFormTouch(i,!0),F(j.props.onBlur)||j.props.onBlur(r)}(r)})),n);return s&&(E[d]=P.getFormValue(i)),e().createElement(e().Fragment,null,!F(j)&&e().cloneElement(j,E),S)},s=["children","emForms"];var v=function(r){var t=r.children,n=r.emForms;return function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}}(r,s),e().createElement(b.Provider,{value:{emForms:n}},t)},d=["emForms","formName","validatorName","children"];var p=function(t){var n=t.emForms,o=t.formName,u=t.validatorName,a=t.children,i=(function(r,e){if(null==r)return{};var t,n,o=function(r,e){if(null==r)return{};var t,n,o={},u=Object.keys(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||(o[t]=r[t]);return o}(r,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(n=0;n<u.length;n++)t=u[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(o[t]=r[t])}}(t,d),(0,r.useContext)(b)),l=null;return F(n)?F(i)||(l=i.emForms):l=n,l.showError(o,u)&&e().createElement(e().Fragment,null,a)},g=function(t){var n=t.emForms,o=t.formName,u=t.validatorName,a=(0,r.useContext)(b),i=null;return F(n)?F(a)||(i=a.emForms):i=n,e().createElement(p,{emForms:i,formName:o,validatorName:u},i.getFormErrorMessage(o,u))};function y(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function h(r){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},h(r)}var b=e().createContext(),F=function(r){return null==r||null==r},O=function(r){return r&&"object"===h(r)&&!Array.isArray(r)},j=function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!n.length)return e;var u=n.shift();if(O(e)&&O(u))for(var a in u)O(u[a])?(e[a]||Object.assign(e,y({},a,{})),r(e[a],u[a])):Object.assign(e,y({},a,u[a]));return r.apply(void 0,[e].concat(n))};function S(r){return function(r){if(Array.isArray(r))return w(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return w(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function P(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function E(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var V=function(){function r(e){var t=this;!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),E(this,"formsGroup",null),E(this,"model",null),E(this,"allowAddProp",!1),E(this,"isValid",(function(){var r=!0;return t.formsGroup.forms.map((function(e){null!=e.validators&&e.validators.map((function(n){!1===t.isValidFormValidator(e.name,n.name)&&(r=!1)}))})),r})),E(this,"isValidForm",(function(r){var e=!0,n=t.getForm(r);return void 0!==n&&n.validators.map((function(r){!1===t.isValidFormValidator(n.name,r.name)&&(e=!1)})),e})),E(this,"isValidFormValidator",(function(r,e){var n=!0,o=t.getForm(r);if(void 0!==o&&void 0!==o.validators){var u=o.validators.filter((function(r){return r.name===e}));if(u.length>0){var a=u[0];0==a.func(o,t,a.param)&&(n=!1)}}return n})),E(this,"getFormErrors",(function(r){var e=[],n=t.getForm(r);return void 0!==n&&void 0!==n.validators&&n.validators.map((function(r){t.isValidFormValidator(n.name,r.name)||e.push({validatorName:r.name,message:r.message})})),e})),E(this,"getFormError",(function(r,e){var n=t.getFormErrors(r).filter((function(r){return r.validatorName==e}));return n.length>0?n[0]:null})),E(this,"getFormErrorMessage",(function(r,e){var n=t.getFormError(r,e);return null!==n?n.message:null})),E(this,"getErrors",(function(){var r=[];return t.formsGroup.forms.map((function(e){var n=t.getFormErrors(e.name);r=[].concat(S(r),S(n))})),r})),E(this,"validate",(function(){var r=t.isValid();return t.setTouch(!0),t.updateParentState(),r})),E(this,"validateForm",(function(r){var e=t.isValid(r);return t.setTouch(r,!0),t.updateParentState(),e})),E(this,"showError",(function(r,e){var n=t.isValidFormValidator(r,e),o=t.getFormTouch(r),u=!1;return!n&&o&&(u=!0),u})),E(this,"resetForm",(function(r,e){t.setFormValue(r,e),t.setFormTouch(r,!1)})),E(this,"reset",(function(r,e){t.formsGroup.forms.map((function(t){var n=t.name,o=!1;if(null!=e&&null!=e&&e.filter((function(r){return r.name==n})).length>0&&(o=!0),!o&&(t.value=null,t.resetValue&&(t.value=t.resetValue),null!=r&&null!=r)){var u=r.filter((function(r){return r.name==n}));u.length>0&&(t.value=u[0].value)}})),t.setTouch(!1),t.updateParentState()})),E(this,"setFormValue",(function(r,e){if(null!=e){var n=e.toString();n.includes("/Date(")&&(e=new Date(parseInt(n.substr(6))))}var o=t.getForm(r);null!=o&&(o.value=e,F(t.model)||(void 0!==t.model[r]||t.allowAddProp)&&(t.model[r]=e)),t.updateParentState()})),E(this,"setFormTouch",(function(r,e){var n=t.getForm(r);null!==n&&(n.touched=e),t.updateParentState()})),E(this,"setFormMode",(function(r,e){var n=t.getForm(r);void 0!==n&&(n.mode=e)})),E(this,"setTouch",(function(r){t.formsGroup.forms.map((function(e){t.setFormTouch(e.name,r)}))})),E(this,"setMode",(function(r){t.formsGroup.forms.map((function(e){e.mode=r})),t.updateParentState()})),E(this,"updateParentState",(function(){null!=t.formsGroup.handleStateUpdate&&t.formsGroup.handleStateUpdate()})),E(this,"getForm",(function(r){var e=t.formsGroup.forms.filter((function(e){return e.name===r}));return e.length>0?e[0]:null})),E(this,"getFormValue",(function(r){var e=t.getForm(r);if(null!==e&&void 0!==e.value)return e.value})),E(this,"getFormMode",(function(r){var e=t.getForm(r);if(null!==e&&void 0!==e.mode)return e.mode})),E(this,"getFormTouch",(function(r){var e=t.getForm(r),n=!1;return null!==e&&void 0!==e.touched&&(n=1==e.touched),n})),E(this,"toModel",(function(){var r={};return t.formsGroup.forms.map((function(e,t){r[e.name]=e.value})),r})),E(this,"setValuesFromModel",(function(r,e){null!==r&&Object.keys(r).map((function(e){t.setFormValue(e,r[e])})),null!=e&&e.map((function(r){var e=t.getForm(r.name);null!==e&&(e.value=r.value)}))})),E(this,"setModel",(function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.model=r,t.allowAddProp=e,t.setValuesFromModel(r)})),this.formsGroup=e,this.setTouch(!1),this.config={errorMessageTriggers:{touch:!0,change:!0}},F(e.config)||j(this.config,e.config)}var e,t;return e=r,(t=[{key:"setFormsObj",value:function(r){this.formsGroup=r}}])&&P(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(),A=V;function x(r,e,t){var n=!0,o=null;return void 0!==t&&(o=t.initialValue),(void 0===r.value||""===r.value||null===r.value||null!==o&&o===r.value)&&(n=!1),n}function T(r,e,t){var n=!0;return void 0!==r.value&&""!==r.value&&null!==r.value&&void 0!==t&&void 0!==t.maxLength&&r.value.toString().length>t.maxLength&&(n=!1),n}function M(r,e,t){var n=!0;return void 0!==r.value&&""!==r.value&&null!==r.value&&void 0!==t&&void 0!==t.minLength&&r.value.toString().length<t.minLength&&(n=!1),n}function N(r,e,t){var n=!0;if(void 0!==r.value&&""!==r.value&&null!==r.value&&void 0!==t&&void 0!==t.pattern){var o=new RegExp(t.pattern,"g"),u=r.value.toString();n=o.test(u)}return n}function C(r,e,t){return N(r,0,{pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/})}function G(r,e,t){var n=!0;return e.getFormValue(t.name)==t.value&&(void 0!==r.value&&null!==r.value&&""!==r.value||(n=!1)),n}function I(r,e,t){var n=!0,o=e.getFormValue(t.compareTo);return void 0!==r.value&&null!==r.value&&""!==r.value&&o!==r.value&&(n=!1),n}}(),o}()}));